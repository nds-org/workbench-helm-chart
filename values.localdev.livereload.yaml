

# Expose mongodb on port 30017 for local development (insecure!)
mongodb:
  service:
    type: NodePort
    nodePorts:
      mongodb: 30017

config:
  frontend:
    live_reload: true

controller:
  images:
    # use dev image (also enable config.frontend.live_reload)
    webui: "ndslabs/webui:develop-live"

  # Enable DEBUG mode for Python API (auto-restart when source updates)
  extraEnv:
    apiserver:
    - name: DEBUG
      value: "true"

  # Override frontend mountPath (default: /usr/share/nginx/html/)
  extraVolumeMounts:
    webui:
    - mountPath: /app/                            # for live_reload
      name: webuisrc
    apiserver:
    - mountPath: /app/
      name: apisrc

  # Create volumes from the source code on the host machine
  extraVolumes:
    - name: webuisrc
      hostPath:
        path: /Users/lambert8/workspace/national-data-service/workbench-helm-chart/src/webui/         # for live_reload
    - name: apisrc
      hostPath:
        path: /Users/lambert8/workspace/national-data-service/workbench-helm-chart/src/apiserver

